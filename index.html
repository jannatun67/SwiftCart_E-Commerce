<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SwiftCart · advanced e‑commerce UI</title>
  <!-- Tailwind via CDN + basic layer (no svg icons, only Font Awesome) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Font Awesome 6 (free) for icons (no SVG) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <!-- GSAP & Three.js (minimal placeholder for advanced feel) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <style>
    /* micro custom for unique hamburger & loader */
    .hamburger-line { transition: all 0.3s ease; }
    .open .hamburger-line:nth-child(1) { transform: rotate(45deg) translate(8px, 6px); }
    .open .hamburger-line:nth-child(2) { opacity: 0; }
    .open .hamburger-line:nth-child(3) { transform: rotate(-45deg) translate(8px, -6px); }
    .spinner-minimal { border: 3px solid rgba(255,255,255,0.2); border-top: 3px solid #ffffff; border-radius: 50%; width: 2rem; height: 2rem; animation: spin 0.8s linear infinite; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    .category-active { background: #1e293b; color: white; border-color: #1e293b; }
    /* card image fix */
    .card-img { height: 180px; object-fit: contain; background: #f9f9f9; mix-blend-mode: multiply; }
    /* three.js canvas background (hero accent) */
    #three-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none; opacity: 0.2; }
    .hero-content { z-index: 2; }
  </style>
</head>
<body class="bg-gray-50 font-sans antialiased">

  <!-- NAVBAR (unique hamburger for mobile) -->
  <nav class="bg-white shadow-md sticky top-0 z-30">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">
        <!-- left: logo -->
        <div class="flex items-center space-x-2">
          <i class="fa-brands fa-shopify text-3xl text-indigo-700"></i>
          <span class="text-2xl font-bold tracking-tight text-gray-800">SwiftCart</span>
        </div>

        <!-- desktop menu (center) -->
        <div class="hidden md:flex space-x-8 text-gray-700 font-medium">
          <a href="#" class="border-b-2 border-indigo-600 pb-1 text-indigo-600">Home</a>
          <a href="/products.html" class="hover:text-indigo-600 transition">Products</a>
          <a href="#" class="hover:text-indigo-600 transition">About</a>
          <a href="#" class="hover:text-indigo-600 transition">Contact</a>
        </div>

        <!-- right: cart with count (dynamic) & mobile hamburger (unique) -->
        <div class="flex items-center space-x-5">
          <!-- cart icon with count -->
          <div class="relative cursor-pointer group" id="cartIcon" onclick="window.location.href='cart.html'">
            <i class="fa-solid fa-bag-shopping text-2xl text-gray-700"></i>
            <span id="cartCountBadge" class="absolute -top-2 -right-2 bg-rose-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold">0</span>
          </div>
          <!-- unique hamburger (animated) -->
          <button id="mobileMenuBtn" class="md:hidden flex flex-col space-y-1.5 p-2 rounded-lg hover:bg-gray-100 transition">
            <span class="hamburger-line w-7 h-0.5 bg-gray-700"></span>
            <span class="hamburger-line w-7 h-0.5 bg-gray-700"></span>
            <span class="hamburger-line w-7 h-0.5 bg-gray-700"></span>
          </button>
        </div>
      </div>

      <!-- mobile menu dropdown (hidden by default) -->
      <div id="mobileMenu" class="hidden md:hidden bg-white border-t pb-3 pt-2 px-2 space-y-1">
        <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-indigo-700 bg-indigo-50">Home</a>
        <a href="/products.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-100">Products</a>
        <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-100">About</a>
        <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-100">Contact</a>
      </div>
    </div>
  </nav>

  <!-- HERO section with Three.js background (abstract) -->
  <section class="relative overflow-hidden bg-cover bg-center"
  style="background-image: linear-gradient(to right, rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('/Assets/banner-image.png');">

  <canvas id="three-canvas" class="absolute inset-0"></canvas>

  <div class="relative max-w-7xl mx-auto px-4 py-24 sm:px-6 lg:px-8 text-center hero-content z-10">
    <h1 class="text-5xl md:text-6xl font-extrabold text-white mb-4 drop-shadow-lg">
      Best Collection For You
    </h1>

    <p class="text-xl text-gray-200 max-w-2xl mx-auto mb-8">
      Discover the latest trends in fashion, electronics, and more. Shop with confidence and style at SwiftCart.
    </p>

    <button class="bg-white hover:bg-gray-200 text-indigo-700 text-lg px-10 py-4 rounded-full shadow-xl transition transform hover:scale-105">
      <i class="fa-solid fa-bolt mr-2"></i>Shop Now
    </button>
  </div>
</section>


  <!-- FEATURES / Why Choose Us -->
  <section class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-4xl font-bold text-center text-gray-800 mb-12">Why Choose Us</h2>
      <div class="grid md:grid-cols-4 gap-8">
        <div class="text-center p-5 rounded-2xl hover:shadow-lg transition"><i class="fa-solid fa-truck-fast text-5xl text-indigo-600 mb-4"></i><h3 class="text-xl font-semibold">Fast Delivery</h3><p class="text-gray-600 mt-2">Get your orders delivered to your doorstep quickly and efficiently.</p></div>
        <div class="text-center p-5 rounded-2xl hover:shadow-lg transition"><i class="fa-solid fa-headset text-5xl text-indigo-600 mb-4"></i><h3 class="text-xl font-semibold">24/7 Support</h3><p class="text-gray-600 mt-2">Our support team is available around the clock to assist you.</p></div>
        <div class="text-center p-5 rounded-2xl hover:shadow-lg transition"><i class="fa-solid fa-lock text-5xl text-indigo-600 mb-4"></i><h3 class="text-xl font-semibold">Secure Payment</h3><p class="text-gray-600 mt-2">Experience safe and secure transactions with encrypted payment systems.</p></div>
        <div class="text-center p-5 rounded-2xl hover:shadow-lg transition"><i class="fa-solid fa-rotate-left text-5xl text-indigo-600 mb-4"></i><h3 class="text-xl font-semibold">Easy Returns</h3><p class="text-gray-600 mt-2">Not satisfied? Return your products easily within 30 days.</p></div>
      </div>
    </div>
  </section>

  <!-- CATEGORIES (dynamic from API) + TRENDING products section integrated -->
  <section class="py-12 bg-gray-100">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     

      <!-- trending products grid (3 cols) + integrated category products (loads all first) -->
      <h2 class="text-3xl font-bold text-gray-800 mb-8  ">Trending Now</h2>
      <div id="productGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6">
        <!-- cards injected via js, with skeleton loader shown first -->
        <div class="col-span-full flex justify-center py-12"><div class="spinner-minimal"></div></div>
      </div>
    </div>
  </section>

  <!-- NEWSLETTER + FOOTER combined -->
  <footer class="bg-gray-900 text-gray-300 pt-12 pb-6">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <!-- subscription row -->
      <div class="flex flex-col md:flex-row md:items-center md:justify-between border-b border-gray-700 pb-10 mb-8">
        <div class="mb-6 md:mb-0">
          <h3 class="text-2xl font-bold text-white">Subscribe to our newsletter</h3>
          <p class="text-gray-400">The latest news, articles, and resources, sent weekly.</p>
        </div>
        <div class="flex w-full md:w-auto">
          <input type="email" placeholder="Enter your email" class="px-5 py-3 w-full md:w-72 rounded-l-lg bg-gray-800 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500">
          <button class="bg-indigo-700 hover:bg-indigo-800 px-6 py-3 rounded-r-lg font-semibold text-white transition"><i class="fa-regular fa-paper-plane mr-2"></i>Subscribe</button>
        </div>
      </div>

      <!-- footer links grid -->
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
        <div><i class="fa-brands fa-shopify text-3xl text-indigo-400 mb-3"></i><p class="text-sm text-gray-400">Your one-stop shop for all your fashion and lifestyle needs. Quality products, fast delivery, and excellent support.</p></div>
        <div><h4 class="text-white font-semibold mb-3">QUICK LINKS</h4><ul class="space-y-2 text-sm"><li><a href="#" class="hover:text-indigo-300">Home</a></li><li><a href="#" class="hover:text-indigo-300">Products</a></li><li><a href="#" class="hover:text-indigo-300">About</a></li><li><a href="#" class="hover:text-indigo-300">Contact</a></li></ul></div>
        <div><h4 class="text-white font-semibold mb-3">SUPPORT</h4><ul class="space-y-2 text-sm"><li><a href="#" class="hover:text-indigo-300">FAQ</a></li><li><a href="#" class="hover:text-indigo-300">Shipping</a></li><li><a href="#" class="hover:text-indigo-300">Returns</a></li><li><a href="#" class="hover:text-indigo-300">Privacy Policy</a></li></ul></div>
        <div><h4 class="text-white font-semibold mb-3">FOLLOW US</h4><div class="flex space-x-4"><i class="fa-brands fa-facebook-f text-2xl hover:text-indigo-400 cursor-pointer"></i><i class="fa-brands fa-x-twitter text-2xl hover:text-indigo-400 cursor-pointer"></i><i class="fa-brands fa-instagram text-2xl hover:text-indigo-400 cursor-pointer"></i><i class="fa-brands fa-youtube text-2xl hover:text-indigo-400 cursor-pointer"></i></div></div>
      </div>

      <div class="text-center text-sm text-gray-500 border-t border-gray-800 pt-6">© 2025 SwiftCart, Inc. All rights reserved.</div>
    </div>
  </footer>

  <!-- MODAL for product details (hidden by default) -->
  <div id="productModal" class="fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4 hidden transition-opacity">
    <div class="bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl">
      <div class="p-6 relative">
        <button id="closeModal" class="absolute top-4 right-4 text-3xl text-gray-600 hover:text-black"><i class="fa-regular fa-circle-xmark"></i></button>
        <div id="modalContent" class="mt-4"><!-- dynamic --></div>
      </div>
    </div>
  </div>

  <!-- CART PAGE separate is out of scope (just a placeholder link), but we manage localStorage -->
  <script>
    (function() {
      // ---------- GLOBAL STATE & LOCALSTORAGE CART ----------
      let cart = JSON.parse(localStorage.getItem('swiftcart_cart')) || [];
      function updateCartUI() {
        const count = cart.reduce((acc, item) => acc + (item.quantity || 1), 0);
        document.getElementById('cartCountBadge').innerText = count;
        localStorage.setItem('swiftcart_cart', JSON.stringify(cart));
      }
      window.updateCartUI = updateCartUI; // accessible globally
      
      // add to cart function
      window.addToCart = function(product) {
        const existing = cart.find(p => p.id === product.id);
        if (existing) existing.quantity = (existing.quantity || 1) + 1;
        else cart.push({ ...product, quantity: 1 });
        updateCartUI();
        gsap.to("#cartIcon", {scale:1.3, duration:0.2, yoyo:true, repeat:1});
      };

      // ---------- HAMBURGER UNIQUE ----------
      const menuBtn = document.getElementById('mobileMenuBtn');
      const mobileMenu = document.getElementById('mobileMenu');
      menuBtn.addEventListener('click', () => {
        menuBtn.classList.toggle('open');
        mobileMenu.classList.toggle('hidden');
      });

      // ---------- THREE.JS HERO BACKGROUND (abstract) ----------
      const canvas = document.getElementById('three-canvas');
      if (canvas) {
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ canvas, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        camera.position.z = 5;
        const geometry = new THREE.IcosahedronGeometry(1.5, 1);
        const material = new THREE.MeshBasicMaterial({ color: 0x4f46e5, wireframe: true, transparent: true, opacity: 0.25 });
        const mesh = new THREE.Mesh(geometry, material);
        scene.add(mesh);
        function animate() { requestAnimationFrame(animate); mesh.rotation.x += 0.003; mesh.rotation.y += 0.005; renderer.render(scene, camera); }
        animate();
        window.addEventListener('resize', () => { camera.aspect = window.innerWidth / window.innerHeight; camera.updateProjectionMatrix(); renderer.setSize(window.innerWidth, window.innerHeight); });
      }

     

      // fetch all products initially
      fetch('https://fakestoreapi.com/products')
        .then(res => res.json())
        .then(products => {
          allProducts = products;
          renderProducts(products);
        })
        .catch(e => productGrid.innerHTML = '<div class="col-span-full text-center text-red-500">Error loading products</div>');

      function renderProducts(productsArray) {
        if (!productsArray.length) { productGrid.innerHTML = '<div class="col-span-full text-center text-gray-500">No products</div>'; return; }
        let html = '';
        productsArray.slice(0,3).forEach(p => { // show first 8 as "trending"
          html += `<div class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition group">
            <img src="${p.image}" alt="${p.title}" class="card-img w-full p-4 bg-white">
            <div class="p-4">
              <span class="text-xs bg-indigo-100 text-indigo-800 px-2 py-1 rounded-full">${p.category}</span>
              <h3 class="font-semibold mt-2 truncate">${p.title}</h3>
              <div class="flex justify-between items-center mt-2">
                <span class="text-xl font-bold text-indigo-700">$${p.price}</span>
                <span class="text-sm text-gray-600"><i class="fa-regular fa-star text-amber-400"></i> ${p.rating.rate} (${p.rating.count})</span>
              </div>
              <div class="flex gap-2 mt-4">
                <button data-id="${p.id}" class="detailsBtn flex-1 border border-indigo-600 text-indigo-700 px-2 py-1.5 rounded-lg text-sm hover:bg-indigo-50"><i class="fa-regular fa-eye mr-1"></i>Details</button>
                <button data-product='${JSON.stringify(p).replace(/'/g, "&apos;")}' class="addToCartBtn flex-1 bg-indigo-600 text-white px-2 py-1.5 rounded-lg text-sm hover:bg-indigo-700"><i class="fa-solid fa-cart-plus mr-1"></i>Add</button>
              </div>
            </div>
          </div>`;
        });
        productGrid.innerHTML = html;

        // attach details modal event
        document.querySelectorAll('.detailsBtn').forEach(btn => {
          btn.addEventListener('click', (e) => {
            const id = e.currentTarget.dataset.id;
            const product = allProducts.find(p => p.id == id);
            if (product) showModal(product);
          });
        });
        // attach add to cart
        document.querySelectorAll('.addToCartBtn').forEach(btn => {
          btn.addEventListener('click', (e) => {
            const prodStr = e.currentTarget.dataset.product;
            const product = JSON.parse(prodStr.replace(/&apos;/g, "'"));
            addToCart(product);
          });
        });
      }

      function filterProducts(category, btnElement) {
        // update active class
        document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('category-active'));
        btnElement.classList.add('category-active');
        activeCategory = category;
        if (!category || category === 'all') {
          renderProducts(allProducts);
        } else {
          fetch(`https://fakestoreapi.com/products/category/${category}`)
            .then(res => res.json())
            .then(filtered => renderProducts(filtered))
            .catch(() => productGrid.innerHTML = '<div class="col-span-full text-center text-red-500">error</div>');
        }
      }

      // modal logic
      const modal = document.getElementById('productModal');
      const modalContent = document.getElementById('modalContent');
      const closeModal = document.getElementById('closeModal');
      window.showModal = function(product) {
        modalContent.innerHTML = `
          <div class="flex flex-col md:flex-row gap-6">
            <img src="${product.image}" class="w-full md:w-1/2 object-contain max-h-64" alt="${product.title}">
            <div>
              <h3 class="text-2xl font-bold">${product.title}</h3>
              <p class="text-gray-600 mt-2">${product.description}</p>
              <div class="flex items-center mt-4"><span class="text-3xl font-bold text-indigo-700">$${product.price}</span><span class="ml-4 text-gray-600"><i class="fa-regular fa-star text-amber-400"></i> ${product.rating.rate} /5 (${product.rating.count})</span></div>
              <button id="modalAddToCart" class="mt-6 bg-indigo-700 hover:bg-indigo-800 text-white px-6 py-3 rounded-xl w-full text-lg"><i class="fa-solid fa-cart-shopping mr-2"></i>Add to Cart</button>
            </div>
          </div>
        `;
        modal.classList.remove('hidden');
        document.getElementById('modalAddToCart').addEventListener('click', () => { addToCart(product); modal.classList.add('hidden'); });
      };
      closeModal.addEventListener('click', () => modal.classList.add('hidden'));
      window.addEventListener('click', (e) => { if (e.target === modal) modal.classList.add('hidden'); });

      // GSAP entrance animation
      gsap.from('.hero-content', { opacity: 0, y: 40, duration: 1.2, ease: 'power3.out' });
      gsap.from('.feature-card', { opacity: 0, y: 30, stagger: 0.2, duration: 0.8, scrollTrigger: { trigger: '.features-grid', start: 'top 80%' } }); // (simplified)

      // update cart count on load
      updateCartUI();
    })();
  </script>
  <!-- ensure cart persistence -->
  <script>
    // re-run cart update on any future storage change
    window.addEventListener('storage', (e) => { if (e.key === 'swiftcart_cart') { cart = JSON.parse(e.newValue) || []; updateCartUI(); } });
  </script>
</body>
</html>